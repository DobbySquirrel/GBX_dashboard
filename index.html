<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <link rel="icon" href="/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vite App</title>
    <script type="module">
      const BAIDU_MAP_AK = import.meta.env.VITE_BAIDU_MAP_AK;
      
      window.BMapGLLoader = {
        load() {
          return new Promise((resolve, reject) => {
            if (window.BMapGL) {
              resolve(window.BMapGL);
              return;
            }
            const script = document.createElement('script');
            script.type = 'text/javascript';
            script.src = `https://api.map.baidu.com/api?v=3.0&type=webgl&ak=${BAIDU_MAP_AK}`;
            script.onerror = reject;
            script.onload = () => {
              resolve(window.BMapGL);
            };
            document.head.appendChild(script);
          });
        }
      };
    </script>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
